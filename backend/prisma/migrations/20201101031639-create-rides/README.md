# Migration `20201101031639-create-rides`

This migration has been generated by Remato at 11/1/2020, 12:16:40 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Drivers" (
"id" SERIAL,
"name" text   NOT NULL ,
"age" integer   NOT NULL ,
"dateCreation" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY ("id")
)

CREATE TABLE "public"."Rides" (
"id" SERIAL,
"from" text   NOT NULL ,
"to" text   NOT NULL ,
"value" Decimal(65,30)   NOT NULL DEFAULT 2,
"driverId" integer   ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Rides" ADD FOREIGN KEY("driverId")REFERENCES "public"."Drivers"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201101031621-create-drivers..20201101031639-create-rides
--- datamodel.dml
+++ datamodel.dml
@@ -3,18 +3,27 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Drivers {
   id           Int      @id @default(autoincrement())
   name         String
   age          Int
   dateCreation DateTime @default(now())
-  //rides        Rides[]
+  rides        Rides[]
 }
+model Rides {
+  id       Int      @id @default(autoincrement())
+  from     String
+  to       String
+  value    Float    @default(2)
+  driver   Drivers? @relation(fields: [driverId], references: [id])
+  driverId Int?
+}
+
```


